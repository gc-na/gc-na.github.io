## 기업 중심, 반도체 설계 과정 분석

지난번 글에서 SoC 산업 분석을 했습니다.

요약하면, 산업이 SoC로 가고있다. SoC란, 각종 시스템이 한 chip에 올라가, PPA(Perfomance, Power, Area)가 우수한 chip이며, 기성복 같은 범용 반도체의 성능 한계에 가까워지며, 다양한 맞춤복 같은 전용 반도체들이 설계되고 있습니다.

흔히 스마트폰 등에 들어가는 AP도 SoC의 예입니다.

​

거미줄 같은 반도체 생태계를 최대한 쉽게 설명하고자합니다.

​

​

반도체 설계과정을 간단하게 요약하면,

​

(1) IP회사 (뼈대들이 들어 있음.) -> (2) Fabless -> (3) Design house -> (4) Foundry 순으로 갑니다.

저는 설계 구현 쪽으로 공부를 해왔기 때문에...1, 2, 3 과정에 대해 A4 한 쪽 분량으로 설명해보겠습니다.

​

​

1. 아키텍쳐 회사에서 나온 소프트웨어로 Memory, Core 등 뼈대 설계를 합니다.

(1) IP회사는 대표적으로 ARM이 있습니다.

ARM은 암묵적인 업계표준(?) 같은 느낌입니다. 거의 모든 전자제품(냉장고든.. 아이폰이든..)들이 ARM의 통신방법(AMBA BUS라고 불리는..)을 쓰고 있고, Memory 설계, Core 설계의 뼈대를 거의 대부분 ARM에서 씁니다. 경쟁자가 없어요.

(2) 그리고 RISC-V가 있습니다. RISC-V는 최근에 나온 오픈 소스라서, IP 비용이 없습니다. 이 RISC-V 설계는 현재 SiFive의 Founder들이 설계를 했습니다. 미중무역분쟁이 연례행사처럼 있다보니, 중국은 오픈소스인 RISC-V로 많이 넘어가고 있습니다. 미래엔 중국이 ARM의 반도체 패권에서 독립 할 수도 있겠다 싶어요.

(이 괄호는 안 읽으셔도 됩니다. 업계에선 ARM이 중국에 팔리는 일은 기어코 없을거라 예상하고 있어요. RISC-V를 설계는 버클리대에서 시작했는데, 이 설계자 중 한명이 한국인이에요. 그리고 현재 스위스 재단 아래서 RISC-V의 IP를 만드는 SiFive의 Cofounder이자 CTO시고, 한국에선 RISC-V를 삼성 파운드리 반도체로 구현시켜줄 디자인 하우스인 SiFive Korea로 시작했다가, 현재는 SEMIFIVE로 독립을 했어요. )

​

2. Fabless에서 뼈대를 바탕으로, 혹은 처음부터 끝까지 설계를 합니다.

애플이나 삼성에서 1년 후 새로운 AP가 40%의 성능개선을 해서 칩이 나왔다고 해도, 설계가 많이 바뀌진 않아요. 칩 하나 설계해서 공정 한번 가려고하면, 100억원은 우습게 깨지게 때문에.. 한국의 대부분 Fabless는 하나의 칩을 만들기보단, Chip의 일부만 설계하고 그것에 대한 IP를 판매하고 있습니다.(종합전자회사 혹은 투자금 많은 회사들은 한 칩 자체를 설계하기도 합니다.) 여러분 스마트폰에 달려있는 USB C-type 단자도, 설계만 가져오려고해도 3~5억원, 이거로 사업을 하면 로열티를 계속 지급해야합니다.

​

첫 해, 새로운 공정을 이용해서 신 모델 출시 -> 둘째 해, 신공정의 문제점 개선을 통한 신 모델 출시.

이런식으로 반도체 설계 시장이 굴러갑니다.

그래서 애플의 제품들이 iPhone 5 -> iPhone 5s -> iPhone 6 이런식으로 발전해왔어요. 맥 제품도 마찬가지로, M1 -> M1X 이런식으로 팔리고 있구요.

​

​

FPGA에서 테스트를 해보고, 양산을 할 수 있는 칩인 ASIC으로 가는데요.

설계 툴로는, FPGA에선 XILINX사의 Vivado HLS를 쓰고, ASIC에는 SIEMENS사의 CATAPULT HLS를 사용합니다. SIEMENS사의 tool이 FPGA, ASIC 둘 다 설계 할 수 있긴한데... 비싸요. 컴퓨터가 많은 부분을 대신 해주는 HLS로 설계하는게 대세이긴한데, 인력 많고 시간 많으면 이런 회사 Tool은 안쓰고, 그냥 순수 '인력'으로 하는 방법도 있습니다.

설계한 Logic을 Simulation하는 tool으로, 'Synopsys사의 VCS' 등... 다양한 툴을 사용합니다.

로직 시뮬레이션이 끝나면, Design house로 갑니다.

​

3. Fabless에선 Logic을 만들고, Design house에서는 Spec을 정해서 실제 회로도를 구현한다고 생각하면 좋을 것 같아요. PPA(Perfomance, Power and Area)가 정해지는 단계입니다. 미세공정으로 내려갈수록, 설계보다 구현에 많은 시간을 쓰게됩니다.

구현 단계에선,

로직을 실제 칩으로 합성 및 배치 배선, 실제 칩으로 되었을 때의 타이밍 검증, 양품 검사를 위한 테스트회로 설계, 로직이 설계도와 기능이 일치하는지... 등 봅니다.

이 과정에선 Synopysys, Cadence, SIEMENS사의 tool들을 사용합니다. 사용하는 툴이 5개 이상인데, 툴 하나 가격이 50억원이 넘는 것도 있을만큼.. Liscense 비용이 꽤나 많이 들어갑니다. 

​

4.Tape out (설계 끝)

​

반도체 설계 사업은 돈, 엔지니어, IP로 이뤄집니다.

앞으로 다양한 반도체들이 설계되어 나올 것이고, 표준화된 IP & License회사에 많은 돈을 쓸 것입니다.

​

다음 글에서 설명할테지만, 제가 Top pick으로 꼽은 Synopsys의 주 사업은 EDA Tool 사업이지만, IP설계 엔지니어만 3000명이 넘고, Synopsys의 IP들이 USB처럼 범용성 높은 IP입니다.

​

요약하면, '반도체는 금광이고, synopsys는 채굴장비 기업'입니다.

A4 한쪽 이내로 설명하려다보니.. 사진이 없네요 흠... 다음에는 Synopsys사에 대해 쓸텐데, 그 때는 더 짧고 사진도 추가해서 쓰겠습니다!

​

​

+ Cadence는 Analog tool의 강자이고, Synopsys는 Digital tool의 강자입니다!

Samsung이나 tsmc 등에서 팹리스한테 Design Manual을 줄 때도, 각각 회사가 각 분야의 Standard가 되구요.

​

저는 RISC-V의 성장 가능성을 높게 보고 있고, Digital 설계 시장이 훨씬 커질거라고 생각해서 Synopsys..... 가치투자로써 좋아합니다! 다소 공격적인 인수합병을 해서.. 걱정이 되긴하지만요.

​

+ 컴퓨터 언어에는 C언어, Python 등 다양한 언어가 있습니다.

이 언어들은 사람들이 이해하기 쉽도록 이루어져 있어요.

print라는 함수를 쓰면 화면에 글씨가 출력되죠.

​

이 print라는 함수는 '어셈블리어'라는 것들의 조합으로 만들어져요. 어셈블리어는, 컴퓨터의 전기 전자정보 흐름을 직접 제어해요. cpu의 경우, 내부 소자에 alu, acc등 다양한 소자들이 있는데, 이것들의 전기신호 흐름을 제어하는 low level language가 '어셈블리어'이고, 이 어셈블리어의 조합들로 우리가 아는 'python'등 High level language가 나옵니다.

​

현재 대부분의 모바일(안드로이드, iOS), 임베디드 운영체제로 ARM 구조의 어셈블리어를 쓰기 때문에+지금까지 안정성이 증명되었기에+이 구조 설계가 엄청나게 어렵고 오랜 시간이 어렵기에, 다 ARM 구조를 씁니다.

pc 시장에선 x86, x64라는 구조가 지배적이었는데, 최근에 다 ARM으로 넘어오고 있습니다. ARM 구조의 특징이 '저전력'인데, 반도체 공정 한계에 오면서.. 저전력에 초점이 맞춰졌거든요.

​

지금까지 설명드린건 Core부분이구요. ARM은 Memory, BUS(칩 간의 통신방법) 등... 여러가지 설계에 뼈대를 팔고있습니다. 다 독점하고있어요.

 해시태그 : 