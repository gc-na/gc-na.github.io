## HPC란?(High Performance Computing) 반도체 엔지니어 시점에서

제가 Tape-out 한 반도체 중 HPC도 몇 개 있었고, 최근 삼성전자가 미래먹거리로 "HPC와 오토모티브"를 언급했기에, HPC에 대해 쉽고 자세하게 작성해보려고 합니다. 좀 내용이 길더라도, 최대한 쉽게 작성해보려고 합니다.

공학적인 내용보다는, 왜 HPC인가? 에 대한 역사적 흐름에 대해 알아볼 계획입니다.

​

![0](/asset/img/223258670286/0.png)

​

​

HPC는 High Performance Computing의 약자로, 고성능 컴퓨팅이라는 뜻입니다.

과거엔 기상청에서나 슈퍼컴퓨터를 썼는데, 요즘은 GPT도 만들어야하고~~ 자기만의 AI도 있어야하고~~ 그러다보니, 컴퓨터 성능 경쟁이 엄청나게 커졌습니다. 그래서 HPC가 중요해졌구요.

​

HPC, 고성능컴퓨팅이란?

![1](/asset/img/223258670286/1.png)

Google TPU Gen1의 아키텍쳐고성능 컴퓨팅(High Performance Computing, HPC)은 클라우드, 서버용 컴퓨터, 슈퍼컴퓨터, 고성능 클러스터, 전문 하드웨어를 활용하여 복잡한 연산을 PC보다 훨씬 빠른 속도로 수행하는 패러다임입니다.

​

(1)

증권사에서는 "퀀트 투자, 로보어드바이저" 등을 활용하는데요.

실시간으로 SNS, 인터넷 뉴스, 주가 그래프, 사람들의 관심도 등 엄청나게 많은 정보들을 수집하고.. 모든 주가 종목을 분석합니다.

나쁜 소식이 있어 폭락할 주식이라면, 빠르게 공매도. 곧 오를 주식이라면 시장가로 전체 매수.

-> 이걸 대형 증권사들이 서로 경쟁하면서 하고 있기 때문에, 0.0001초라도 먼저 매수/매도 주문을 해야합니다.

아무나 다 쓰는 범용 반도체로는 남들을 이길 수 없습니다. 자신만의 SW에 딱 맞춤형으로 최적화된 고성능 반도체를 사용합니다.

​

​

![2](/asset/img/223258670286/2.png)

​

(2)

클라우드 서비스 많이 들어보셨죠? 클라우드 서비스는, 컴퓨터를 빌려준다는 개념으로 이해하시면 됩니다.

사람들이 많이 접속하는 사이트를 만들거나, AI를 학습시키려면 엄청나게 많은 컴퓨터 연산이 필요합니다.

Amazon, Google, Microsoft  등 Cloud service 하는 회사들은 자신들이 서버 인프라를 짓고, 사람들에게 빌려주고 구독료를 받는 서비스에요.

​

사실 클라우드 서비스라는게, 그냥 컴퓨터 대량으로 사서, 하드웨어 작업이 필요한 사람들에게 빌려주는 서비스라서... 그냥 범용 반도체를 쓰면, 경쟁력이 없습니다. 아무나 할 수 있는 사업이 되죠.

그래서 Google에서는 Tensor작업(AI)에 특화된 TPU를 개발하였습니다. Google Colab cloud service를 이용하면, TPU를 사용 할 수 있는데, 이 TPU를 쓰면 아주 빠르게 Training / Inference가 가능해! 이런걸 하는거죠.

Amazon, Microsoft 둘 다 "전용 반도체 HPC"를 사용합니다.

Naver, Kakao, KT도 얼마전에 Furiosa AI, Rebellions와 협업하며 전용 반도체 클라우드 서비스를 하는 것으로 알고 있습니다.

​

​

HPC가 왜 빠른건지 간단히 비유하면,

일단 컴퓨터의 간단한 역사 이해가 필요합니다.

컴퓨터는 0 / 1 신호를 분간 시킬 수 있는 소자로 만들어집니다. "트랜지스터"라고 하고, 이 신호를 디지털 신호라고 부릅니다.

​

처음으로 사용 된 대규모 트랜지스터는 진공관을 사용해 만들어진 "애니악"입니다. 이게 1944년에 나왔어요. 생각보단 오래 안 된거죠. 할아버지들 계실 때 나온 컴퓨터니까.

방산용으로 포탄의 탄도학 계산을 위해 만들어진 계산기라고 보시면 됩니다.

![3](/asset/img/223258670286/3.png)

그러다가 반도체의 발전으로, 작은 크기의 집적회로(IC, integrated circuit)를 만들게 되었습니다.

IC를 만드니, 디지털회로설계 기술이 빠르게 발전합니다.

이 때 "폰 노이만"이 Software 개념을 만들어 냅니다. 기존에는, 계산기를 설계해두면 계산만 할 수 있었는데,, 개발자가 IC를 그때 그때 활용 목적에 따라 맞춰서 쓸 수 있게 된거죠.

​

"임베디드 소프트웨어"라고 불리는 프로그램들이 이 때부터 나오기 시작합니다. 이 임베디드 소프트웨어를 구동하는 Chip들은 MCU라고 불립니다.

![4](/asset/img/223258670286/4.png)

1971년, Intel이 4004 마이크로프로세서를 출시하였고... 8080 preocessor를 시작으로, 현대의 CPU 모습을 한 프로세서들이 출시됩니다.

PC에 사용되고, OS가 개발됩니다. OS가 있기 때문에 다중 Application을 하나의 Chip에서 실행하기 용이해집니다.

![5](/asset/img/223258670286/5.png)

​

CPU의 시대에선,

순차적으로 실행되는 작업을 최대한 빠르게 수행하는게 중요했어요. 그래서 Clock Frequency가 곧 성능 지표가 되었습니다.

​

그러나 모니터 화면의 Pixel 표현, 게임의 화려한 Graphic 표현을 하는 작업들은, 별로 어려운 작업이 아니지만, 엄청나게 많은 병렬 작업을 요구합니다.

​

좀 clock frequency를 낮추더라도, 병렬적인 업무를 처리하게 설계륵 하는겁니다.

​

이걸 위해, 엄청나게 많은 숫자의 Core(특히 연산로직)가 들어있는 GPU를 개발하게 됩니다.

마침 machine learning, Computer Vision도 "병렬 작업"이 가장 중요한 부분이라서... AI 회사, 자율주행 회사들이 엄청나게 많은 GPU를 사고 있습니다.

​

​

![6](/asset/img/223258670286/6.png)

NPU, AI 가속기 등은 다양한 이름들로 불립니다.

​

SW회사들든 굉장히 경쟁적이에요. 여긴 매일매일 소소한것들만 찾아내도 엄청난 차이를 만들어냅니다.

그렇기에, 시장에 있는 GPU를 써서는 1등을 하기 힘들어요.

​

시장에 있는 슈퍼카 자동차로는 만족을 못하니, 여러가지 기능을 빼고 추가하고 반복하여 가볍고 엔진도 작고, 하지만 속도는 빠른 F1 자동차가 필요한거죠.

​

NPU는 특정 알고리즘에 대해서만 "병렬적이면서 빠른 clock frequency로 동작" 할 수 있게 설계를 해둔 것이죠.

그렇기 때문에 GPU보다 할 수 있는 기능들은 제한적이지만, 자기 분야에 대해선 "가장 빠른 반도체"가 되는 것입니다.

​

실제로, NVIDIA가 만드는 GPU들은 게임에서도 쓸 수 있고.. 비트코인 채굴에서도 쓸 수 있고.. AI 머신러닝에서도 쓸 수 있지만,

Google, Amazon, Microsoft 등 회사에서 만드는 NPU들은 범용성은 약간 떨어지지만, 각자 자기 분야에서 뛰어난 Chip들입니다.

​

그래서 주제인 HPC로 다시 돌아오면요.

HPC는 진짜 엄청난 병렬작업을 하면서 빠른 Clock frequency로 작업을 굉장히 효율적으로 처리 할 수 있는 컴퓨터들이에요.

이것 설계/검증 하는 사람들은 0.1pico seconds라도 어떻게든 timing optimization을 하려고 밤을 새갑니다.

​

효율성 평가

![7](/asset/img/223258670286/7.png)

효율성 평가는 기본적으로, PPA로 이루어집니다.

얼마나 저전력이면서 작은 Chip size로 빠르게 동작하는지? 이게 중요한데, 그래도 HPC에서 가장 중요한 부분은 속도죠.

속도 평가는 보통 "MLperf"라는 곳에서 평가를 받습니다.

HPC Chip들이 특정 Algorithm에서 어느정도 Performance, Power를 내는지 대회에 참여하고 지표를 띄웁니다.

​

​

얘기드린것처럼, NPU들은 특정 알고리즘에 특화된 Chip입니다.

그런데 SW는 매일 급변합니다. 반도체 개발 주기는 2~3년 정도이구요. 그래서 오늘부터 idea 구상하고 아키텍쳐 구상을해도... 양산된 반도체 Chip으로 나오는건 2년 후입니다.

완전 특정 알고리즘 하나에만 올인해서 만들었는데, 그 알고리즘이 2년 후에 안 쓰이게 된다면... 팔리지 않는 NPU가 되는거죠.

​

팔리는 NPU가 되려면, 효율성도 높아야하고, n년 뒤 소프트웨어 변화가 있더라도 충분히 그정도 범용성은 갖고 있어야합니다.

​

아무튼, 현재는 AI가 "가장 수익성이 좋은" 광고, GPT, 퀀트 투자에서만 쓰이고 있는데요. 이 부분에서 매출이 포화되면 기업들은 수익성이 낮더라도 매출을 올리기 위해 소소한 분야에도 AI를 쓸 것입니다.

편의점 알바생 대신 키오스크를 쓸테고, 일반적인 키오스크가 아니라 AI를 쓸 수도 있겠죠? ㅋㅋ

​

언젠간 대부분의 일이 AI로 바뀔 것이라는 점은 누구나 생각하고 있을 겁니다.이 AI를 구동하는 소자는 HPC구요.

그래서 많은 Foundry들이 HPC 생산 공정에 초점을 맞추고 있고, 많은 반도체 설계 회사들이 HPC 설계에 집중하고 있습니다.

​

반도체 시장의 패러다임이

계산기에서 임베디드, 임베디드에서 개인용 PC로 넘어왔던 것처럼, 개인용 PC에서 클라우드용 하드웨어, 클라우드용 하드웨어에서 HPC로 넘어 갈 것 같습니다.

​

다음에 시간 날 때 오토모티브 반도체에 대해 소개해보겠습니다. 오토모티브 반도체는 "고신뢰성"이 중요합니다.

​

 해시태그 : 